<div class="container jumbotron" style="background-color:#657894;">
  <div class="">
    <h2 class="text-center" style="color:black">Registrar usuario</h2>
  </div>

  <div class="col-md-12">
    <%= form_for(resource, as: resource_name, :html => {class: "form-horizontal", role:"form"}, url: registration_path(resource_name)) do |f| %>
    <%= devise_error_messages! %>
    <div class="form-group">
      <div class="control-label col-md-2">
        <%= f.label 'Nombre:' %>
      </div>
      <div class="col-md-9">
        <%= f.text_field :name, :maxlength => 25, autofocus: true, class: "form-control" %>
      </div>
    </div>

    <div class="form-group">
      <div class="control-label col-md-2">
        <%= f.label 'Apellido:' %>
      </div>
      <div class="col-md-9">
        <%= f.text_field :last_name, :maxlength => 25, class: "form-control" %>
      </div>
    </div>

    <div class="form-group">
      <div class="control-label col-md-2">
        <%= f.label 'Rol:' %>
      </div>
      <div class="col-md-9">
        <%= f.select :role, ['Administrador', 'Doctor', 'Técnico-Encargado'], class: "form-control" %>
      </div>
    </div>

    <div class="form-group well" style="background-color:gray;">
      <div class="control-label col-md-2">
        <%= f.label :area, 'Departamento:' %><br>
      </div>
      <div class="col-md-2">
        <%= f.label 'Consulta externa'%>
        <%= f.radio_button :area, "Consulta Externa", class: "area"%>
      </div>
      <div class="col-md-2">
        <%= f.label :area, 'Dental'%>
        <%= f.radio_button :area, "Dental", class: "area"%>
      </div>
      <div class="col-md-2">
        <%= f.label 'Emergencia'%>
        <%= f.radio_button :area, "Emergencia", class: "area"%>
      </div>
      <div class="col-md-2">
        <%= f.label 'Fisioterapia'%>
        <%= f.radio_button :area, "Fisioterapia", class: "area"%>
      </div>
      <div class="col-md-2">
        <%= f.label 'Laboratorio'%>
        <%= f.radio_button :area, "Laboratorio", class: "area"%>
      </div>
      <div class="col-md-2">
        <%= f.label 'Rayos x'%>
        <%= f.radio_button :area, "Rayos x", class: "area"%>
      </div>
      <div class="col-md-2">
        <%= f.label 'Servicios complementarios'%>
        <%= f.radio_button :area, "Servicios Complementarios", class: "area"%>
      </div>
    </div>

    <div class="form-group">
      <div class="control-label col-md-2">
        <%= f.label 'Especialidad:' %>
      </div>
      <div class="col-md-9">
        <%= f.collection_select :speciality, Speciality.all, :id, :nombre, include_blank: true, class: "form-control" %>
      </div>
    </div>

    <div class="form-group">
      <div class="control-label col-md-2">
        <%= f.label 'Clave:' %>
      </div>
      <div class="col-md-9">
        <%= f.text_field :clave, class: "form-control" %>
      </div>
    </div>

    <div class="form-group">
      <div class="control-label col-md-2">
        <%= f.label 'Establecimiento:' %>
      </div>
      <div class="col-md-9">
        <%= f.text_field :establecimiento, class: "form-control" %>
      </div>
    </div>

    <div class="form-group">
      <div class="control-label col-md-2">
        <%= f.label 'Localidad:' %>
      </div>
      <div class="col-md-9">
        <%= f.text_field :localidad, class: "form-control" %>
      </div>
    </div>

    <div class="form-group">
      <div class="control-label col-md-2">
        <%= f.label 'Correo electrónico:' %>
      </div>
      <div class="col-md-9">
        <%= f.email_field :email, autofocus: false, class: "form-control" %>
      </div>
    </div>

    <div class="form-group">
      <div class="control-label col-md-2">
        <%= f.label 'Contraseña:' %>
        <% if @minimum_password_length %>
          <em>(<%= @minimum_password_length %>
            Caracteres mínimo)</em>
        <% end %><br/>
      </div>
      <div class="col-md-9">
        <%= f.password_field :password, autocomplete: "off", class: "form-control" %>
      </div>

    </div>

    <div class="form-group">
      <div class="control-label col-md-2">
        <%= f.label 'Confirmar Contraseña:' %>
      </div>
      <div class="col-md-9">
        <%= f.password_field :password_confirmation, autocomplete: "off", class: "form-control" %>
      </div>
    </div>
    <div class="form-group">
      <div class="col-md-offset-2 col-md-9">
        <%= f.submit "Registrarse" , class: "btn btn-success"%>
      </div>
    </div>
  <% end %>
  <div class="col-md-offset-2">
    <%= render "devise/shared/links" %>
  </div>
</div>
</div>

<script type="text/javascript">
$(document).ready(function () {
  $(".area").change(function () {

    if ($(this).val() == "Consulta Externa") {
      var options = {
        'Cardiología': 'cardiología',
        'Cir. cardio vas.': 'cir. cardio vas.',
        'Cir. Maxilo facial': 'cir. maxilo facial',
        'Cir pediatrica': 'cir pediatrica',
        'Cirugía general': 'cirugia general',
        'Dermatología': 'dermatologia',
        'Endocrinología': 'endocrinilogia',
        'Gastroenterología': 'gastroenterologia',
        'Geriatría': 'geriatria',
        'Ginecología': 'ginecologia',
        'Hematología': 'hematologia',
        'Medicina general': 'medicina general',
        'Medicina interna': 'medicina interna',
        'Nefrología': 'nefrologia',
        'Neumología': 'neumologia',
        'Neurocirugía': 'neurocirugia',
        'Neurología': 'neurologia',
        'Nutrición y dietética': 'nutricion y dietetica',
        'Oftalmología': 'oftalmologia',
        'Oncología': 'oncologia',
        'Otorrino': 'otorrina',
        'Pediatría': 'pediatria',
        'Psicología': 'psicologia',
        'Psiquiatría': 'psiquiatria',
        'Reumatología': 'reumatologia',
        'Traumatología': 'traumatologia',
        'Urología': 'urologia'
      }
    }

    if ($(this).val() == "Dental") {
      var options = {
        'Odontopediatría': 'odontopediatria',
        'Dental adultos': 'dental adultos'
      }
    }

    if ($(this).val() == 'Emergencia') {
      var options = {
        'Emergencia': 'emergencia'
      }
    }

    if ($(this).val() == 'Fisioterapia') {
      var options = {
        'Fisioterapia': 'fisioterapia'
      }
    }

    if ($(this).val() == 'Laboratorio') {
      var options = {
        'Laboratorio': 'laboratorio'
      }
    }

    if ($(this).val() == 'Rayos x') {
      var options = {
        'Rayos x': 'rayos x'
      }
    }

    if ($(this).val() == 'Servicios Complementarios') {
      var options = {
        'Servicios Complementarios': 'servicios complementarios'
      }
    }

    $('#user_speciality').empty();
    $.each(options, function (key, value) {
      $('#user_speciality').append('<option value="' + value + '">' + key + '</option>');
    });

  });
});
</script>
